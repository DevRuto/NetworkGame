public class Server extends Thread {
	private ServerSocket listener;
	private int port;
	private ArrayList<Client> _clients = new ArrayList<Client>();	

	public static void main(String[] args) {
		Server server = new Server(12345);
		server.start();

		server.join();
	}

	public Server(int port) {
		this.port = port;
	}

	@Override
	public void run() {
		listener = new ServerSocket(port);
		listener.start();
		System.out.println("Server started on port: " + port);

		Socket socket;
		while ((socket = listener.accept()) != null) {
			// handle socket
			_clients.add(new Client(socket).start());
		}
	}

	class Client extends Thread {
		private Socket socket;
		private PrintWriter writer;
		private String name;

		public Client(Socket socket) {
			this.socket = socket;
		}

		@Override
		public void run() {
			BufferedReader reader = new BufferedReader(new InputStreamReader(socket.getInputStream()));
			String line;
			while ((line = reader.readLine()) != null) {
				
			}
		}

		public Client start() {
			super.start();
			return this;
		}

		public void write(String s) {
			writer.write(s);
			writer.flush();
		}
	}
}